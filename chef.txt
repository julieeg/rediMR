## CHEF FILE

Last Updated: May 13, 2024

## PATH
florezlab_redimr=/humgen/florezlab/users/jgervis/redimr

## RECIPE

## Prepare ukb phenotypes
qsub ../scripts/data_prep/prep_ukb_phenos.sh


## Run GWAS for select diet traits
qsub -t 1-22 ../scripts/gwas/prep_gwas.sh
for FOOD in raw_veg cooked_veg fresh_fruit dried_fruit ; do qsub -t 1-22 ../scripts/gwas/run_gwas.sh ${FOOD} tag; done
for FOOD in raw_veg cooked_veg fresh_fruit dried_fruit ; do qsub ../scripts/gwas/postprocess_gwas.sh ${FOOD} tag ; done

for FOOD in procmeat coffee ; do qsub -t 1-22 ../scripts/gwas/run_gwas.sh ${FOOD} tag; done
for FOOD in procmeat coffee ; do qsub ../scripts/gwas/postprocess_gwas.sh ${FOOD} tag ; done


## Run rediMR to generate adjusted Bs, %change and basic rediMR plots
for FOOD in raw_veg cooked_veg fresh_fruit dried_fruit ; do qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} tag; done 

for FOOD in procmeat coffee ; do qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} tag; done 

## Run series of MR for [outcome traits]
for FOOD in raw_veg cooked_veg fresh_fruit; do 
	qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} T2D tag 
	qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} CKD tag 
	qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} CVD tag 
	qsub ../scripts/rediMR/run_rediMR.sh ${FOOD} MDD tag 
done




for FOOD in raw_veg ; do qsub ../scripts/gwas/postprocess_gwas.sh ${FOOD} ${tag} ; done